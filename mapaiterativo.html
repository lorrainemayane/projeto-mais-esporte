<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espaços Esportivos - +Esporte</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        :root {
            --verde-principal: #2e7d32;
            --verde-claro: #a5d6a7;
            --branco: #ffffff;
            --cinza-claro: #f5f5f5;
            --cinza-escuro: #333;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--cinza-claro);
        }

        header {
            background-color: var(--verde-principal);
            color: var(--branco);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.6rem;
            font-weight: bold;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1rem;
        }

        nav ul li a {
            color: var(--branco);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: var(--verde-claro);
        }

        main {
            max-width: 1100px;
            margin: 2rem auto;
            background: var(--branco);
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: var(--verde-principal);
            text-align: center;
            margin-bottom: 1rem;
        }

        .filter-container {
            text-align: center;
            margin-bottom: 1rem;
        }

        select {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            min-width: 200px;
        }

        #map {
            height: 500px;
            width: 100%;
            border-radius: 10px;
            margin-top: 1rem;
        }

        .leaflet-popup-content button {
            background-color: var(--verde-principal);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .leaflet-popup-content button:hover {
            background-color: #1b5e20;
        }

        @media (max-width: 768px) {
            main {
                margin: 1rem;
                padding: 1rem;
            }

            #map {
                height: 400px;
            }
        }
    </style>
</head>

<body>

    <header>
        <div class="logo"><i class="fa-solid fa-dumbbell"></i> +Esporte</div>
        <nav>
            <ul>
                <li><a href="calendario.html"><i class="fa-solid fa-house"></i> Home</a></li>
                <li><a href="#"><i class="fa-solid fa-user"></i> Meu Perfil</a></li>

                <li><a href="calendario.html"><i class="fa-solid fa-calendar-days"></i> Eventos</a></li>
                <li><a href="espacos.html"><i class="fa-solid fa-map-location-dot"></i> Espaços</a></li>
                <li><a href="login.html"><i class="fa-solid fa-right-from-bracket"></i> Sair</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>Espaços Esportivos Disponíveis</h1>
        <div class="filter-container">
            <label for="filtro">Filtrar por tipo: </label>
            <select id="filtro">
                <option value="todos">Todos</option>
                <option value="quadra">Quadra</option>
                <option value="campo">Campo</option>
                <option value="pista">Pista</option>
            </select>
        </div>
        <div id="map"></div>
    </main>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([-5.7945, -35.211], 13); // Natal - RN

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        const espacos = [
            { nome: "Quadra Central", tipo: "quadra", coords: [-5.793, -35.211], local: "Praça da Árvore" },
            { nome: "Campo das Dunas", tipo: "campo", coords: [-5.800, -35.215], local: "Parque das Dunas" },
            { nome: "Pista de Corrida", tipo: "pista", coords: [-5.789, -35.205], local: "Av. Eng. Roberto Freire" },
        ];

        const marcadores = [];

        function adicionarMarcadores(filtro) {
            marcadores.forEach(m => map.removeLayer(m));
            marcadores.length = 0;

            espacos
                .filter(e => filtro === "todos" || e.tipo === filtro)
                .forEach(e => {
                    const marker = L.marker(e.coords).addTo(map);
                    marker.bindPopup(`
                        <strong>${e.nome}</strong><br>
                        Tipo: ${e.tipo}<br>
                        Local: ${e.local}<br><br>
                        <button onclick="detalhesEspaco('${e.nome}')">Ver Detalhes</button>
                    `);
                    marcadores.push(marker);
                });
        }

        adicionarMarcadores("todos");

        document.getElementById("filtro").addEventListener("change", (e) => {
            adicionarMarcadores(e.target.value);
        });

        function detalhesEspaco(nome) {
            alert("Visualizando detalhes do espaço: " + nome);
        }
    </script>

</body>

</html>